<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core" xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:ace="http://www.icefaces.org/icefaces/components">
	<ace:confirmationDialog id="vahvistaHarrastajanPoisto" message="Oletko varma?" header="Vahvista" width="350"
		height="200" closable="true" position="center">
		<h:panelGrid columns="2" styleClass="centeredPanelGrid">
			<h:commandButton value="Kyllä" onclick="ice.ace.instance('form:vahvistaHarrastajanPoisto').hide()"
				action="#{harrastajaAdmin.piilotaHarrastaja}" actionListener="#{harrastajaAdmin.poistaHarrastaja}" />
			<h:commandButton value="Ei" onclick="ice.ace.instance('form:vahvistaHarrastajanPoisto').hide()" />
		</h:panelGrid>
	</ace:confirmationDialog>
	<h:panelGrid columns="3" columnClasses="tabletop, tabletop, tabletop">
		<ace:panel header="Henkilötiedot" styleClass="panel" id="henkilötietopanel">
			<h:panelGrid columns="2">
				<h:outputText value="Etunimi" />
				<h:panelGrid>
					<ace:message for="form:etunimi" />
					<h:inputText value="#{harrastaja.etunimi}" id="etunimi" styleClass="capitalized" />
				</h:panelGrid>
				<h:outputText value="Sukunimi" />
				<h:panelGrid id="sukunimigrid">
					<ace:message for="form:sukunimi" />
					<h:inputText value="#{harrastaja.sukunimi}" id="sukunimi" styleClass="capitalized" />
				</h:panelGrid>
				<h:outputText value="Sukupuoli" />
				<h:panelGrid>
					<ace:message for="form:sukupuoli" />
					<h:selectOneRadio value="#{harrastaja.sukupuoli}" id="sukupuoli">
						<f:selectItems value="#{sukupuolet}" />
					</h:selectOneRadio>
				</h:panelGrid>
				<h:outputText value="Syntymäaika" />
				<h:panelGrid>
					<ace:message for="form:syntymäaika" />
					<ace:dateTimeEntry value="#{harrastaja.syntynyt}" renderAsPopup="true" pattern="dd.MM.yyyy" id="syntymäaika">
						<ace:ajax event="dateSelect" execute="@this" render="form:huoltajapanel"
							listener="#{harrastajaAdmin.syntymäaikaMuuttui}" />
						<ace:ajax event="dateTextChange" execute="@this" render="form:huoltajapanel"
							listener="#{harrastajaAdmin.syntymäaikaMuuttui}" />
					</ace:dateTimeEntry>
				</h:panelGrid>
				<h:outputText value="ICE" />
				<h:panelGrid>
					<ace:message for="form:ice" />
					<h:inputText value="#{harrastaja.ice}" id="ice" />
				</h:panelGrid>
				<h:outputText value="Huomautus" />
				<h:panelGrid>
					<ace:message for="form:huomautus" />
					<h:inputTextarea value="#{harrastaja.huomautus}" id="huomautus" />
				</h:panelGrid>
				<h:outputText value="Arkistoitu" />
				<h:panelGrid>
					<ace:message for="form:arkistoitu" />
					<h:selectBooleanCheckbox value="#{harrastaja.arkistoitu}" id="arkistoitu" />
				</h:panelGrid>
			</h:panelGrid>
		</ace:panel>
		<h:panelGrid>
			<ace:panel header="Perhe" styleClass="panel" id="perhepanel" style="width:450px">
				<h:panelGrid columns="2">
					<h:selectOneMenu value="#{harrastaja.perhe}" valueChangeListener="#{harrastajaAdmin.perheMuuttui}"
						style="width: 350px">
						<f:selectItem itemValue="#{null}" itemLabel="" noSelectionItem="true" />
						<f:selectItems value="#{perheet}" var="_perhe" itemValue="#{_perhe}" itemLabel="#{_perhe.kuvaus}" />
						<f:converter converterId="objectConverter" />
						<f:ajax execute="@this" render="form:osoitepanel form:huoltajapanel" />
					</h:selectOneMenu>
					<h:commandButton action="#{harrastajaAdmin.lisääPerhe}" value="x" image="/kuvat/lisää_perhe.jpg"
						style="height:50px; width:50px; margin-left:15px">
						<f:ajax execute="form:sukunimi" render="form:perhepanel form:sukunimigrid form:huoltajapanel" />
					</h:commandButton>
				</h:panelGrid>
			</ace:panel>
			<h:panelGroup id="huoltajapanel">
				<ace:panel header="Huoltaja" rendered="#{harrastaja.alaikäinen}" styleClass="panel" style="width:450px">
					<h:panelGrid columns="2">
						<h:panelGrid columns="2">
							<ace:message for="huoltaja" />
							<h:selectOneMenu value="#{harrastaja.huoltaja}" required="true" id="huoltaja" style="width: 350px">
								<f:selectItem itemValue="#{null}" itemLabel="" noSelectionItem="true" />
								<f:selectItems value="#{harrastaja.perhe.huoltajat}" var="_huoltaja" itemValue="#{_huoltaja}"
									itemLabel="#{_huoltaja.nimi}" />
								<f:converter converterId="objectConverter" />
							</h:selectOneMenu>
						</h:panelGrid>
						<h:commandButton action="#{harrastajaAdmin.lisääHuoltaja}" value="x" image="/kuvat/lisää_huoltaja.jpg"
							style="height:50px; width:50px; margin-left:15px">
							<f:ajax execute="form:sukunimi" render="form:huoltajapanel form:perhepanel" />
						</h:commandButton>
						<h:panelGrid columns="2" rendered="#{harrastaja.huoltaja != null and harrastaja.huoltaja.tallentamaton}">
							<h:inputText value="#{harrastaja.huoltaja.etunimi}" size="14" id="huoltajan_etunimi" />
							<h:inputText value="#{harrastaja.huoltaja.sukunimi}" size="14" />
						</h:panelGrid>
					</h:panelGrid>
				</ace:panel>
			</h:panelGroup>
			<ace:panel header="Osoitetiedot" styleClass="panel" id="osoitepanel" style="width:450px">
				<h:panelGrid columns="2">
					<h:outputText value="Osoite" />
					<h:panelGrid>
						<ace:message for="form:osoite" />
						<h:inputText value="#{harrastaja.osoite.osoite}" id="osoite" styleClass="capitalized" />
					</h:panelGrid>
					<h:outputText value="Postinumero" />
					<h:panelGrid>
						<ace:message for="form:postinumero" />
						<h:inputText value="#{harrastaja.osoite.postinumero}" id="postinumero" />
					</h:panelGrid>
					<h:outputText value="Kaupunki" />
					<h:panelGrid>
						<ace:message for="form:kaupunki" />
						<h:inputText value="#{harrastaja.osoite.kaupunki}" id="kaupunki" styleClass="capitalized" />
					</h:panelGrid>
					<h:outputText value="Sähköposti-osoite" />
					<h:panelGrid>
						<ace:message for="form:sähkoposti" />
						<h:inputText value="#{harrastaja.yhteystiedot.sähköposti}" id="sähköposti" />
					</h:panelGrid>
					<h:outputText value="Sähköpostilistalla" />
					<h:panelGrid>
						<ace:message for="form:sähkopostilistalla" />
						<h:selectBooleanCheckbox value="#{harrastaja.yhteystiedot.sähköpostilistalla}" id="sähköpostilistalla" />
					</h:panelGrid>
				</h:panelGrid>
				<!-- 				
				<ace:gMap style="width: 400px; height: 400px" zoomLevel="8" id="kartta"
					locateAddress="true" address="#{harrastaja.osoite.osoiteString}" />
-->
			</ace:panel>
		</h:panelGrid>
		<ace:panel header="Korttitiedot" styleClass="panel">
			<h:panelGrid columns="2" style="margin-left: 20px;">
				<h:outputText value="Jäsennumero" />
				<h:panelGrid>
					<ace:message for="form:jasennumero" />
					<h:inputText value="#{harrastaja.jäsennumero}" id="jasennumero" />
				</h:panelGrid>
				<h:outputText value="Korttinumero" />
				<h:panelGrid>
					<ace:message for="form:korttinumero" />
					<h:inputText value="#{harrastaja.korttinumero}" id="korttinumero" />
				</h:panelGrid>
				<h:outputText value="Lisenssinumero" />
				<h:panelGrid>
					<ace:message for="form:lisenssinumero" />
					<h:inputText value="#{harrastaja.lisenssinumero}" id="lisenssinumero" />
				</h:panelGrid>
			</h:panelGrid>
		</ace:panel>
	</h:panelGrid>
	<h:commandButton rendered="#{harrastaja != null}" value="x" styleClass="ikoni"
		action="#{harrastajaAdmin.tallennaHarrastaja}" image="/kuvat/tallenna.jpg" />
	<h:commandButton rendered="#{harrastaja != null}" value="x" styleClass="ikoni" immediate="true"
		action="#{harrastajaAdmin.peruutaPerustietomuutos}" image="/kuvat/peruuta_muutos.png">
		<f:ajax render="@form" />
	</h:commandButton>
	<h:commandButton rendered="#{harrastaja.poistettavissa}" value="x" styleClass="ikoni"
		onclick="ice.ace.instance('form:vahvistaHarrastajanPoisto').show();" image="/kuvat/poista.png" immediate="true" />

</ui:composition>